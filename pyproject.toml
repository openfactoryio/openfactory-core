[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "openfactory"
version = "0.4.0"
dependencies = [
    # Core utilities
    "click",
    "rich",
    "pandas",
    "pydantic",
    "pyyaml",
    "python-dotenv",

    # Networking and protocols
    "asyncua",
    "confluent-kafka",
    "httpx[http2]",
    "paramiko",

    # Infrastructure / Integration
    "docker",
    "fsspec",
    "PyGithub",

    # Custom Git dependency
    "mtc2kafka @ git+https://github.com/rwuthric/python-mtc2kafka.git",
]

[project.optional-dependencies]
dev = [
    "flake8",
    "tomlkit",
]

docs = [
    "sphinx",
    "myst-parser",
    "pydata-sphinx-theme",
    "sphinx-autodoc-typehints",
    "sphinx-design",
]

[tool.setuptools]
include-package-data = true 

[tool.setuptools.packages]
find = { where = ["."], include = ["openfactory", "openfactory.*"] }

[project.entry-points."openfactory.deployment_platforms"]
docker = "openfactory.openfactory_deploy_strategy:LocalDockerDeploymentStrategy"
swarm = "openfactory.openfactory_deploy_strategy:SwarmDeploymentStrategy"

[project.scripts]
ofa = "openfactory.ofacli:main"
